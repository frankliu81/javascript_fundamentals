<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>React.js</title>
    <script src="react.js"></script>
    <script src="react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.js"></script>
  </head>
  <body>
    <div id="container"></div>
    <script type="text/babel">
      //var intervalId;
      var StopWatch = React.createClass({
        getInitialState: function(){
          return {time: 0};
        },
        intervalId: null,
        componentDidMount: function(){
          this.start();
        },
        start: function(){
          if (!this.intervalId)
          {
            this.intervalId = setInterval(function(){
              this.setState({time: this.state.time+1});
            }.bind(this), 1000);
          }
        },
        stop: function(){
          clearInterval(this.intervalId);
          this.intervalId = null;
        },
        reset: function(){
          this.stop();
          this.setState({time: 0});
        },
        render: function() {
          return <div> <div>Time is: {this.state.time.toString()} </div>
                <a href="javascript:void(0);" onClick={this.start}>Start</a>
                <br/>
                <a href="javascript:void(0);" onClick={this.stop}>Stop</a>
                <br/>
                <a href="javascript:void(0);" onClick={this.reset}>Reset</a> </div>;
        }
        // Jon's solution
        // startTimer: function(){
        //   this.interval = setInterval(this.tick, 1000);
        // },
        // stopTimer: function() {
        //   clearInterval(this.interval);
        // },
        // resetTimer: function() {
        //   this.stopTimer();
        //   this.setState({time: 0});
        // }
        // tick: function() {
        //   this.setState({time: this.state.time + 1});
        // },
        //
      });

      ReactDOM.render(<StopWatch/>, document.getElementById('container'));
    </script>
  </body>
</html>
